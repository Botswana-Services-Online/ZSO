"use client"
import 'bootstrap/dist/css/bootstrap.css';
import '@ionic/react/css/core.css';
import './globals.css'
import { FooterBar, NavBar } from './components/SiteNavigation';
import { FloatingWhatsApp } from 'react-floating-whatsapp';
import { useState,useEffect } from 'react';
import { Authorized } from './components/contexts';
import {  onAuthStateChanged} from 'firebase/auth';
import {  auth } from './api/firebase';
import { fetchData } from './components/getData';
import { userData, userDataDefault } from './components/schemes';
import { Metadata } from 'next';
import Script from 'next/script';





// export const metadata = {
//   title: 'Zimbabwe Services Online',
//   description: 'Generated by create next app',
//   icons: {apple:'/icon.png' },
//   themeColor: '#fff',

// }

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  // setupIonicReact();
  const [access,setAccess] = useState<userData>(userDataDefault)
 
  useEffect(()=>{
    //get user location
    navigator.geolocation.getCurrentPosition((position)=>{},(error)=>{})
   
  },[])
  return (
    <html lang="en">
      <body suppressHydrationWarning={true}>
      <Authorized.Provider value={{access,setAccess}}>
        <NavBar/>
        {children}
        <FloatingWhatsApp statusMessage='Typically replies in 2 minutes' phoneNumber='+263788984320' accountName='Zim Services Online' avatar="https://voideawn.sirv.com/website/home_three.jpg"/>
        <FooterBar/>
        </Authorized.Provider>
        <Script type="text/javascript" src="//pl22407793.toprevenuegate.com/95/72/06/957206293fa29f1a999b116f638aa200.js"></Script>
        </body>
    </html>
  )
}
